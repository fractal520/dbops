<div>
   <table class="table table-striped table-hover">
   <thead>
      <tr>
         <th>数据库名</th>
         <th>实例名</th>
         <th>访问IP</th>
         <th>端口号</th>
         <th>数据库类型</th>
         <th>数据库架构</th>
         <th>主机名</th>
      </tr>
   </thead>
   <tbody>
   {% for dbinfo in dbinfos %}
      {% if dbinfo.instances.all() %}
      {% for inst in dbinfo.instances %}
      <tr>
         <td><a href="{{ url_for('.edit_dbinfo', db_id=dbinfo.db_id) }}">{{ dbinfo.dbname }}</a></td>
         <td><a href="{{ url_for('.edit_dbinst', inst_id=inst.instance_id) }}">{{ inst.instance_name}}</a></td>
         <td>{{ inst.ip_address.true_ip }}</td>
         <td>{{ inst.access_port }}</td>
         <td>{{ dbinfo.dbtype.db_type_name }}</td>
         <td>{{ dbinfo.db_arch.db_arch_name }}</td>
         <td><a href="{{ url_for('.edit_host', host_id=inst.host.host_id) }}">{{ inst.host.host_name }}</a></td>
      </tr>
      {% endfor %}
      {% else %}
      <tr>
         <td><a href="{{ url_for('.edit_dbinfo', db_id=dbinfo.db_id) }}">{{ dbinfo.dbname }}</a></td>
         <td></td>
         <td></td>
         <td></td>
         <td>{{ dbinfo.dbtype.db_type_name }}</td>
         <td>{{ dbinfo.db_arch.db_arch_name }}</td>
         <td></td>
      </tr>
      {% endif %}
   {% endfor %}
   </tbody>
   </table>
</div>
